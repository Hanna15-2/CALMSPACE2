<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foro de Apoyo</title>

    <!-- Fuente Caudex -->
    <link href="https://fonts.googleapis.com/css2?family=Caudex:wght@400;700&display=swap" rel="stylesheet">

    <style>
        html, body {
            height: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            font-family: 'Caudex', serif;
            background-color: #FAF9F6;
        }

        header h1 {
            text-align: center;
            color: #2E5B24;
            margin: 20px 0;
            font-size: 2.2em;
        }

        main {
            display: flex;
            justify-content: space-between;
            flex-grow: 1;
            padding: 0.5px 20px;
            align-items: center;
            gap: 20px;
        }

        /* CONTENEDOR MENSAJES */
        #contenedor-mensajes {
            width: 60%;
            text-align: left;
            display: flex;
            flex-direction: column;
        }

        #contenedor-mensajes h2 {
            color: #2E5B24;
        }

        #lista-mensajes {
            border: 2px solid #2E5B24;
            padding: 10px;
            min-height: 200px;
            max-height: 300px;
            overflow-y: auto;
            flex-grow: 1;
            background: white;
            border-radius: 10px;
        }

        /* 츼REA DE TEXTO */
        textarea {
            width: 100%;
            height: 70px;
            padding: 10px;
            resize: none;
            border-radius: 10px;
            border: 2px solid #2E5B24;
            font-family: 'Caudex', serif;
            font-size: 1em;
        }

        button {
            margin-top: 10px;
            padding: 12px 20px;
            background-color: #2E5B24;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-family: 'Caudex', serif;
            font-size: 1.1em;
            font-weight: bold;
            transition: 0.2s;
        }

        button:hover {
            background-color: #23481C;
        }

        /* PANEL FRASES */
        #palabras-motivacionales {
            width: 35%;
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #2E5B24;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 300px;
        }

        #palabras-motivacionales h2 {
            font-size: 1.8em;
            color: #2E5B24;
            text-align: center;
            margin-bottom: 15px;
        }

        #palabras-motivacionales p {
            font-size: 1.3em;
            color: #333;
            text-align: center;
            line-height: 1.4;
        }

        footer {
            text-align: center;
            padding: 10px;
            background-color: #FAF9F6;
            font-size: 1em;
            color: #2E5B24;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <h1>Foro de Apoyo Emocional</h1>
    </header>

    <main>
        <div id="contenedor-mensajes">
            <h2>Mensajes</h2>
            <ul id="lista-mensajes"></ul>

            <h2>Comparte tu experiencia</h2>
            <textarea id="mensaje" placeholder="Escribe tu mensaje..."></textarea>
            <button onclick="publicarMensaje()">Publicar</button>
        </div>

        <div id="palabras-motivacionales">
            <h2>游 Notas de amor para ti</h2>
            <p id="frase"></p>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Espacio de Calma</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            cargarMensajes();
            mostrarFraseMotivacional();
        });

        function publicarMensaje() {
            var mensaje = document.getElementById("mensaje").value.trim();
            const palabrasProhibidas = [
                "suicidio", "matar", "muerte", "morir", "quitarme la vida",
                "no quiero vivir", "me quiero morir", "acabar con todo",
                "desaparecer", "no existir"
            ];

            const contieneProhibidas = palabrasProhibidas.some(palabra =>
                mensaje.toLowerCase().includes(palabra)
            );

            if (contieneProhibidas) {
                alert("Tu mensaje contiene palabras sensibles. Si necesitas ayuda, por favor contacta a una l칤nea de atenci칩n especializada.");
                return;
            }

            if (mensaje !== "") {
                var lista = document.getElementById("lista-mensajes");
                var nuevoMensaje = document.createElement("li");
                nuevoMensaje.textContent = mensaje;
                lista.appendChild(nuevoMensaje);
                guardarMensaje(mensaje);
                document.getElementById("mensaje").value = "";
            }
        }

        function guardarMensaje(texto) {
            var mensajes = JSON.parse(localStorage.getItem("mensajes")) || [];
            mensajes.push(texto);
            localStorage.setItem("mensajes", JSON.stringify(mensajes));
        }

        function cargarMensajes() {
            var mensajes = JSON.parse(localStorage.getItem("mensajes")) || [];
            var lista = document.getElementById("lista-mensajes");
            mensajes.forEach(function(mensaje) {
                var nuevoMensaje = document.createElement("li");
                nuevoMensaje.textContent = mensaje;
                lista.appendChild(nuevoMensaje);
            });
        }

        function mostrarFraseMotivacional() {
            var frases = [
                "Eres m치s fuerte de lo que crees.",
                "Cada d칤a es una nueva oportunidad.",
                "La calma comienza en tu interior.",
                "Respira, todo estar치 bien.",
                "No est치s solo, estamos contigo.",
                "El mundo es mejor porque t칰 est치s en 칠l.",
                "Conf칤a en el proceso.",
                "Recuerda que todo lo que necesitas est치 dentro de ti."
            ];
            var fraseAleatoria = frases[Math.floor(Math.random() * frases.length)];
            document.getElementById("frase").textContent = fraseAleatoria;
        }
    </script>
</body>
</html>
